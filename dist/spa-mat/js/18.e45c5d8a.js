(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{BXYN:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"shadow-3",staticStyle:{padding:"1rem"}},[e("q-modal",{model:{value:t.openModal,callback:function(a){t.openModal=a},expression:"openModal"}},[e("div",{staticClass:"bg-black q-pa-lg row"},[e("h5",{staticClass:"no-margin no-padding col-12"},[t._v("Send an invitation")]),e("form-main",{staticClass:"col-12",attrs:{schema:t.schemaMail}})],1)]),e("div",{staticClass:"q-px-md"},[e("h5",{staticClass:"light-paragraph"},[t._v(t._s(t.headl)),e("span",{staticClass:"float-right"},[e("q-btn",{on:{click:function(a){t.openModal=!0}}},[t._v("Add user")])],1)]),e("q-data-table",{attrs:{dark:!0,data:t.users,config:t.conf,columns:t.cols,actions:t.actns},on:{rowclick:function(a){t.onRowClick(a)}},scopedSlots:t._u([{key:"col-name",fn:function(a){return[t._l(a,function(a){return[t._v(t._s(a.name))]})]}},{key:"col-confirmed",fn:function(a){return[a.data?e("div",{staticClass:"text-center"},[e("q-icon",{attrs:{name:"done"}})],1):t._e()]}},{key:"col-action",fn:function(a){return t._l(t.actions,function(s){return e("q-btn",{key:s.type,attrs:{flat:"",small:"",color:s.color||"neutral"},on:{click:function(e){t.action(s.type,a,s.scope)}}},[t._v(t._s(t.$t(s.title)))])})}}])})],1)],1)},n=[],r=(e("VRzm"),e("91GP"),e("Y9fb")),o=e("Tjd0"),i=e("ExVU"),l=e("wbdi"),c=e("ta7f"),u={components:{Username:o["a"],FormMain:r["a"]},props:["columns","actions","headline"],data:function(){var t=this,a={rowHeight:"50px",noHeader:!1,leftStickyColumns:0,rightStickyColumns:0,bodyStyle:{},messages:{noData:t.$t("table.no_data"),noDataAfterFiltering:t.$t("table.no_data_in_filter")}},e=this.columns.map(function(t){return Object.assign({filter:!1,sort:!1},t)});e.push({field:"action",classes:"text-right"});var s=this;return{openModal:!1,rows:[],conf:Object.assign(a,t.config),cols:e,headl:t.headline,actns:t.actions,users:[{name:"Christian Hansen",mail:"ch@motionbank.org",confirmed:!0},{name:"Marlon Brando",mail:"info@motionbank.org",confirmed:!0},{name:"Johnny Cash",mail:"jc@motionbank.org",confirmed:!1},{name:"Donald Duck",mail:"dd@motionbank.org",confirmed:!0}],schemaMail:{fields:{title:{fullWidth:!0,type:"text",label:"Enter mail address",errorLabel:"errors.field_required",validators:{required:c["required"]}}},submit:{handler:function(){return s.payload.author=s.$store.state.auth.payload.userId,s.$route.params.id||(s.payload.type=[l["a"].MAP_TYPE_TIMELINE]),Promise.resolve().then(function(){return s.payload.uuid?s.$store.dispatch("maps/patch",[s.payload.uuid,s.payload]):s.$store.dispatch("maps/create",s.payload)}).then(function(){s.redirectTo&&s.$router.push(s.redirectTo)})}}}}},methods:{onRowClick:function(t){this.$emit("row-click",t)},action:function(t,a,e){var s=this;switch(t){case"edit":if("grid"===e)return s.$router.push({name:"mosys.grids.user"});if("timeline"===e)return s.$router.push({name:"piecemaker.groups.user"})}},updateEntries:function(){var t=this;this.entries instanceof Promise?this.entries.then(function(a){t.rows=a}):t.rows=this.entries},formatDateTime:function(t){return i["DateTime"].fromISO(t).toLocaleString(i["DateTime"].DATETIME_SHORT_WITH_SECONDS)}},mounted:function(){this.updateEntries()},watch:{entries:function(){this.updateEntries()}}},d=u,m=(e("K8cw"),e("KHd+")),p=Object(m["a"])(d,s,n,!1,null,null,null);a["a"]=p.exports},K8cw:function(t,a,e){"use strict";var s=e("d0Uv"),n=e.n(s);n.a},Tjd0:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[t._v(t._s(t.username))])},n=[],r=(e("f3/d"),e("ls82"),e("yXPU")),o=e.n(r),i={props:["uuid"],asyncComputed:{username:function(){var t=o()(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.uuid){t.next=2;break}return t.abrupt("return","---");case 2:return t.next=4,this.$store.dispatch("users/get",this.uuid);case 4:return a=t.sent,t.abrupt("return",a.name);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},l=i,c=e("KHd+"),u=Object(c["a"])(l,s,n,!1,null,null,null);a["a"]=u.exports},UrZy:function(t,a,e){"use strict";var s=e("oncl"),n=e.n(s);n.a},YIeI:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row fullscreen vertical-middle justify-center items-center"},[s("div",{staticClass:"abc",attrs:{id:"back-button"}},[t._t("backButton")],2),s("div",{staticClass:"column col-9 sm-gutter"},[s("q-card",{staticClass:"full-width",attrs:{color:"dark"}},[s("div",{staticClass:"layout-padding"},[s("q-card-main",{staticClass:"no-margin",attrs:{color:"dark"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"column width-3of4"},[s("h4",{staticClass:"caption"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[s("a",{staticClass:"gt-md logo",on:{click:function(a){t.openURL("http://www.motionbank.org")}}},[s("img",{staticClass:"responsive",attrs:{src:e("b2zc")}})])])],2)]),s("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)]),s("site-footer")],1)])},n=[],r=e("4IOb"),o=e("vpOM"),i={components:{SiteFooter:o["a"]},data:function(){return{openURL:r["Ca"]}}},l=i,c=(e("UrZy"),e("KHd+")),u=Object(c["a"])(l,s,n,!1,null,null,null);a["a"]=u.exports},YNOA:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("card-full",[e("q-btn",{staticStyle:{position:"absolute",top:"calc(50px + 2rem)",left:"2rem"},attrs:{slot:"backButton",icon:"keyboard_backspace",round:"",small:""},on:{click:function(a){t.$router.push("/mosys/grids/")}},slot:"backButton"}),e("span",{attrs:{slot:"form-logo"},slot:"form-logo"}),e("span",{attrs:{slot:"form-title"},slot:"form-title"},[t._v(t._s(t.$t("routes.mosys.grids.create.title")))]),e("edit-group",{staticClass:"width-100",attrs:{"redirect-to":"/mosys/grids"}})],1)},n=[],r=e("qUq4"),o=e("YIeI"),i=e("huk2"),l={components:{CardFull:i["a"],CenterCardThreeQuarter:o["a"],EditGroup:r["a"]}},c=l,u=e("KHd+"),d=Object(u["a"])(c,s,n,!1,null,null,null);a["default"]=d.exports},d0Uv:function(t,a,e){},oncl:function(t,a,e){},qUq4:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"padding-1em"},[t.payload?e("tags",{attrs:{targetUuid:t.payload.uuid,fullWidth:""}}):t._e()],1),e("div",{staticClass:"padding-1em full-width"},[e("form-main",{attrs:{schema:t.schema},model:{value:t.payload,callback:function(a){t.payload=a},expression:"payload"}})],1),e("div",{staticClass:"full-width q-mt-lg",staticStyle:{border:"1px solid #333"}},[e("users-table",{attrs:{headline:t.$t("routes.mosys.grids.users.title"),entries:t.users,columns:t.columns,actions:t.actions},on:{action:t.onAction}})],1)])},n=[],r=(e("VRzm"),e("Y9fb")),o=e("ta7f"),i=e("wbdi"),l=e("Qqu8"),c=e("huk2"),u=e("BXYN"),d={components:{FormMain:r["a"],Tags:l["a"],CardFull:c["a"],UsersTable:u["a"]},props:["redirectTo"],data:function(){var t=this;return{columns:[{label:"Name",field:"name",type:"string",sort:!0}],actions:[{type:"edit",title:"Settings",scope:"grid"},{type:"delete",title:"Remove"}],payload:this.$route.params.id?t.$store.dispatch("maps/get",t.$route.params.id):void 0,schema:{fields:{title:{fullWidth:!0,type:"text",label:"routes.mosys.grids.edit.title",errorLabel:"errors.field_required",validators:{required:o["required"]}}},submit:{handler:function(){return t.payload.owner=t.$store.state.auth.payload.userId,t.$route.params.id||(t.payload.type=[i["a"].MAP_TYPE_2D_GRID]),Promise.resolve().then(function(){return t.payload.uuid?t.$store.dispatch("maps/patch",[t.payload.uuid,t.payload]):t.$store.dispatch("maps/create",t.payload)}).then(function(){t.redirectTo&&t.$router.push(t.redirectTo)})}}}}}},m=d,p=e("KHd+"),f=Object(p["a"])(m,s,n,!1,null,null,null);a["a"]=f.exports}}]);