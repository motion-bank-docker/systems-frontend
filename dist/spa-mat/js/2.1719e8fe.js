(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{C9LW:function(t,i,a){"use strict";var e=a("CPA0"),n=a.n(e);n.a},CPA0:function(t,i,a){},ERwe:function(t,i,a){"use strict";var e=a("SHnS"),n=a.n(e);n.a},Excf:function(t,i,a){"use strict";var e=a("yQ8e"),n=a.n(e);n.a},FYjI:function(t,i,a){},GmLm:function(t,i,a){},Qqu8:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return t.targetUuid?a("q-chips-input",{staticClass:"text-white",attrs:{"float-label":"Add tags",color:"primary",dark:!0},on:{change:t.inputChanged},model:{value:t.tags,callback:function(i){t.tags=i},expression:"tags"}}):t._e()},n=[],o=a("RIqP"),s=a.n(o),l=(a("VRzm"),a("rGqo"),a("dRSK"),a("wbdi")),r={props:["targetUuid","targetType"],data:function(){return{tags:[],annotations:[{body:{value:"Joe"}}]}},mounted:function(){this.loadTags()},watch:{targetUuid:function(){this.loadTags()}},methods:{inputChanged:function(){this.updateTags()},enforceUniqueTags:function(t){var i=t;if(t.length>1){var a={};t.forEach(function(t){a[t]=1}),i=Object.keys(a)}return i},updateTags:function(){var t=this,i=this,a=this.annotations.map(function(t){return t.body.value});a=this.enforceUniqueTags(a),this.tags=this.enforceUniqueTags(this.tags);var e=a.filter(function(t){return-1===i.tags.indexOf(t)});e=e.map(function(a){var e=i.annotations.find(function(t){return t.body.value===a});return e&&e.uuid?t.$store.dispatch("annotations/remove",e.uuid):null});var n=this.tags.filter(function(t){return-1===a.indexOf(t)});n=n.map(function(a){var e={author:i.$store.state.auth.payload.userId,body:{purpose:"tagging",type:"TextualBody",value:a},target:{id:i.targetUuid,type:i.targetType||i.typeFromRoute()}};return t.$store.dispatch("annotations/create",e)}),Promise.all(s()(e).concat(s()(n))).then(function(){i.loadTags()})},typeFromRoute:function(){var t=this.$route.path;return/.+\/groups\/[^/]+\/edit$/.test(t)?l["a"].MAP_TYPE_TIMELINE:/.+\/videos\/[^/]+\/edit$/.test(t)?"Video":/.+\/grids\/[^/]+\/edit$/.test(t)?l["a"].MAP_TYPE_2D_GRID:"Unknown"},loadTags:function(){var t=this,i=this;this.$store.dispatch("annotations/find",{query:{"target.id":i.targetUuid,"body.purpose":"tagging"}}).then(function(a){i.annotations=a.filter(function(t){return t.target.id===i.targetUuid});var e=a.map(function(t){return t.body.value});e=t.enforceUniqueTags(e),i.tags=e})}}},c=r,u=(a("C9LW"),a("KHd+")),d=Object(u["a"])(c,e,n,!1,null,"0d8df395",null);i["a"]=d.exports},SHnS:function(t,i,a){},VDrJ:function(t,i,a){"use strict";var e=a("wh9e"),n=a.n(e);n.a},Y9fb:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("form",{on:{submit:function(i){return i.preventDefault(),t.handleSubmit(i)}}},[a("div",[t._l(t.fields,function(i,e){return t.loaded?[t.isType(i.type,"checkbox")?a("form-row-checkbox",{staticClass:"col-sm-12 no-margin",class:{"col-xl-6":!i.fullWidth,"col-12":i.fullWidth},attrs:{type:i.type,validation:t.$v.local[e],attributes:i.attributes,label:t.$t(i.label),"helper-label":t.$t(i.helperLabel),"error-label":t.$t(i.errorLabel)},model:{value:t.local[e],callback:function(i){t.$set(t.local,e,i)},expression:"local[key]"}}):a("form-row",{staticClass:"col-sm-12 no-margin",class:{"col-xl-6":!i.fullWidth,"col-12":i.fullWidth},attrs:{type:i.type,"select-options":i.options,validation:i.validators?t.$v.local[e]:void 0,attributes:i.attributes,label:t.$t(i.label),"helper-label":t.$t(i.helperLabel),"error-label":t.$t(i.errorLabel)},model:{value:t.local[e],callback:function(i){t.$set(t.local,e,i)},expression:"local[key]"}})]:t._e()})],2),a("div",{staticClass:"row xs-gutter full-width justify-end items-end"},[t._t("form-buttons-add"),t._t("form-buttons",[a("submit-button",{staticClass:"q-mt-md",attrs:{active:t.maySubmit}},[t._v(t._s(t.$t(t.schema.submit.label)||t.$t("buttons.submit")))])])],2),a("mb-notification-service")],1)},n=[],o=a("Kw5r"),s=a("Hc5T"),l=a.n(s),r=a("9oTK"),c=a.n(r),u=function(){var t=this,i=t.$createElement,a=t._self._c||i;return"hidden"===t.type?a("q-input",{attrs:{type:t.type},model:{value:t.local,callback:function(i){t.local=i},expression:"local"}}):a("q-field",{attrs:{dark:!0,label:t.fieldLabel,error:t.validation?t.validation.$error:void 0,"error-label":t.errorLabel,helper:t.helperLabel||""}},["select"===t.type?a("q-select",{attrs:{"float-label":t.label,dark:!0,options:t.selectOptions},model:{value:t.local,callback:function(i){t.local=i},expression:"local"}}):a("q-input",{attrs:{dark:!0,"float-label":t.label,type:t.type,attributes:t.attributes},model:{value:t.local,callback:function(i){t.local=i},expression:"local"}})],1)},d=[],h={props:["value","attributes","validation","type","label","fieldLabel","errorLabel","helperLabel","selectOptions"],data:function(){return{local:void 0}},computed:{error:function(){if("hidden"!==this.type)return this.validation&&this.validation.$error}},watch:{local:function(t){"hidden"!==this.type&&(this.validation&&this.validation.$touch(),this.$emit("input",t))}},created:function(){this.local=this.value,"hidden"!==this.type&&this.validation&&this.validation.$reset()}},f=h,m=(a("Excf"),a("KHd+")),p=Object(m["a"])(f,u,d,!1,null,null,null),v=p.exports,b=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("q-field",{attrs:{dark:!0,error:t.validation?t.validation.$error:void 0}},[a("q-checkbox",{attrs:{dark:!0,label:t.label,color:"primary"},model:{value:t.local,callback:function(i){t.local=i},expression:"local"}})],1)},g=[],y={props:["value","validation","type","label"],data:function(){return{local:!1}},computed:{error:function(){return this.validation&&this.validation.$error}},watch:{local:function(t){this.validation&&this.validation.$touch(),this.$emit("input",t)}},created:function(){this.local="boolean"===typeof this.value&&this.value}},_=y,$=(a("ERwe"),Object(m["a"])(_,b,g,!1,null,null,null)),k=$.exports,w=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("q-btn",{attrs:{dark:!0,outline:"","icon-right":"forward",color:t.active?"primary":"light",type:"submit",disabled:!t.active},on:{click:t.clickHandler}},[t._t("default")],2)},C=[],x={props:["active","click"],methods:{clickHandler:function(){if("function"===typeof this.click){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];this.click(i)}}}},T=x,L=(a("jn02"),Object(m["a"])(T,w,C,!1,null,null,null)),E=L.exports,q=a("4IOb");o["a"].use(l.a);var O={components:{FormRow:v,FormRowCheckbox:k,SubmitButton:E},props:["value","schema"],data:function(){return{typemap:{password:"text"},local:void 0,loaded:!1}},mounted:function(){this.initForm()},computed:{initial:function(){var t={};for(var i in this.fields)this.fields[i].initial&&(t[i]=this.fields[i].initial);return this.$store.state.forms[this.schema.state]||t},fields:function(){return this.schema&&this.schema.fields?this.schema.fields:{}},validators:function(){var t={};for(var i in this.fields)this.fields[i].validators&&(t[i]=this.fields[i].validators);return t},isDirty:function(){var t=!1;if(this.$v&&this.$v.local){for(var i in this.local)this.$v.local[i]&&this.$v.local[i].$dirty&&(t=!0);return t}},maySubmit:function(){return!this.$v&&!this.$v.local||!this.$v.local.$invalid&&this.isDirty}},methods:{initForm:function(){var t=this;this.value&&this.value.then?this.value.then(function(i){t.local=i,t.loaded=!0}):(this.local=this.initial,this.loaded=!0)},handleSubmit:function(){if(this.maySubmit&&"function"===typeof this.schema.submit.handler){var t=this.$store,i=this.schema;q["d"].show({spinner:q["N"],spinnerSize:200,spinnerColor:"grey"}),c.a.resolve().then(i.submit.handler).then(function(a){var e=i.submit?i.submit.message:void 0;e=e||(a?a.message():"messages.submit_success"),q["d"].hide(),t.commit("notifications/addMessage",{body:e,type:"success"}),i.state&&t.commit("forms/".concat(i.state),null)}).catch(function(i){q["d"].hide(),console.debug("Form submit:",i),t.commit("notifications/addMessage",{body:i.message?"".concat(i.message).concat(i.code?" ("+i.code+")":""):"messages.submit_error",mode:"alert",type:"error"})})}},isType:function(t,i){return this.typemap[t]?this.typemap[t]===i:t===i}},watch:{local:{handler:function(t){t||this.initForm(),this.$emit("input",t),this.schema.state&&this.$store.commit("forms/".concat(this.schema.state),t)},deep:!0}},validations:function(){return{local:this.validators}}},R=O,S=(a("pb+S"),Object(m["a"])(R,e,n,!1,null,null,null));i["a"]=S.exports},b2zc:function(t,i,a){t.exports=a.p+"img/motionbank-logo.53196fd.png"},huk2:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"row justify-center items-center"},[e("div",{attrs:{id:"back-button"}},[t._t("backButton")],2),e("div",{staticClass:"column col-10"},[e("q-card",{staticClass:"full-width no-margin",attrs:{color:"dark"}},[e("div",{staticClass:"layout-padding"},[e("q-card-main",{staticClass:"no-margin"},[t._t("nav-button"),e("div",{staticClass:"row justify-between content-stretch"},[e("div",{staticClass:"column width-3of4"},[e("h5",{staticClass:"caption light-paragraph"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[e("a",{staticClass:"gt-md logo",on:{click:function(i){t.openURL("http://www.motionbank.org")}}},[e("img",{staticClass:"responsive",attrs:{src:a("b2zc")}})])])],2)],2),e("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)]),e("site-footer")],1)])},n=[],o=a("4IOb"),s=a("vpOM"),l={components:{SiteFooter:s["a"]},data:function(){return{openURL:o["Ca"]}}},r=l,c=(a("VDrJ"),a("KHd+")),u=Object(c["a"])(r,e,n,!1,null,null,null);i["a"]=u.exports},jn02:function(t,i,a){"use strict";var e=a("GmLm"),n=a.n(e);n.a},kiQV:function(t){t.exports={b:"0.3.0",a:"MIT"}},n34Y:function(t,i,a){"use strict";var e=a("o89N"),n=a.n(e);n.a},o89N:function(t,i,a){},"pb+S":function(t,i,a){"use strict";var e=a("FYjI"),n=a.n(e);n.a},vpOM:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"row full-width light-paragraph justify-between items-center generic-margin"},[a("div",{staticClass:"group",class:{"absolute-bottom-left":t.positionCorners,"layout-padding":t.positionCorners}},[a("small",{staticClass:"generic-margin"},[t._v(t._s(t.$t("site.copyright")))]),a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(i){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.imprint")))])]),a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(i){t.openURL("http://motionbank.org/de/content/kontakt")}}},[t._v(t._s(t.$t("navigation.contact")))])]),a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(i){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.terms")))])])]),a("div",{staticClass:"group",class:{"absolute-bottom-right":t.positionCorners,"layout-padding":t.positionCorners}},[a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(i){t.openURL("https://github.com/motionbank")}}},[t._v(t._s(t.$t("navigation.github")))])]),a("small",[t._v(t._s(t.$t("site.version"))+": v"+t._s(t.version))]),a("small",[t._v(t._s(t.$t("site.license"))+": "+t._s(t.license))])])])},n=[],o=a("4IOb"),s=a("kiQV"),l={data:function(){return{openURL:o["Ca"],version:s["b"],license:s["a"]}},props:["positionCorners"]},r=l,c=(a("n34Y"),a("KHd+")),u=Object(c["a"])(r,e,n,!1,null,null,null);i["a"]=u.exports},wbdi:function(t,i,a){"use strict";var e="Timeline",n="2DGrid",o="HH:mm:ss:SSS";i["a"]={MAP_TYPE_TIMELINE:e,MAP_TYPE_2D_GRID:n,TIMECODE_FORMAT:o}},wh9e:function(t,i,a){},yQ8e:function(t,i,a){}}]);