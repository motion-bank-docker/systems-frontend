(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"10ZX":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form-main",{attrs:{schema:t.schema},model:{value:t.payload,callback:function(e){t.payload=e},expression:"payload"}})},o=[],n=(a("VRzm"),a("Y9fb")),s=a("ta7f"),l=a("ExVU"),r=a("wbdi"),c={components:{FormMain:n["a"]},props:["redirectTo"],data:function(){var t=this;return{apiPayload:void 0,payload:t.$route.params.id?t.$store.dispatch("annotations/get",t.$route.params.id).then(function(t){return{url:t.body.source}}):void 0,schema:{fields:{url:{fullWidth:!0,type:"text",label:"labels.video_url",errorLabel:"errors.field_required",validators:{required:s["required"]}}},submit:{handler:function(){return t.apiPayload={body:{source:t.payload.url,type:"Video",purpose:"linking"},author:t.$store.state.auth.payload.userId,target:{id:t.$route.params.groupId||t.groupId,type:r["a"].MAP_TYPE_TIMELINE,selector:{type:"Fragment",value:l["DateTime"].local().toString()}}},Promise.resolve().then(function(){return t.payload.uuid?t.$store.dispatch("annotations/patch",[t.payload.uuid,t.apiPayload]):t.$store.dispatch("annotations/create",t.apiPayload)}).then(function(){t.$router.push("/piecemaker/groups/".concat(t.$route.params.groupId,"/videos"))})}}}}}},u=c,d=a("KHd+"),m=Object(d["a"])(u,i,o,!1,null,null,null);e["a"]=m.exports},ERwe:function(t,e,a){"use strict";var i=a("SHnS"),o=a.n(i);o.a},Excf:function(t,e,a){"use strict";var i=a("yQ8e"),o=a.n(i);o.a},FYjI:function(t,e,a){},GmLm:function(t,e,a){},JAcV:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("center-card-three-quarter",[a("q-btn",{attrs:{slot:"backButton",icon:"keyboard_backspace",round:"",small:""},on:{click:function(e){t.$router.push("/piecemaker/groups/")}},slot:"backButton"}),a("span",{attrs:{slot:"form-logo"},slot:"form-logo"}),a("span",{attrs:{slot:"form-title"},slot:"form-title"},[t._v(t._s(t.$t("routes.piecemaker.videos.create.title")))]),a("edit-video")],1)},o=[],n=a("10ZX"),s=a("YIeI"),l={components:{EditVideo:n["a"],CenterCardThreeQuarter:s["a"]}},r=l,c=a("KHd+"),u=Object(c["a"])(r,i,o,!1,null,null,null);e["default"]=u.exports},SHnS:function(t,e,a){},UrZy:function(t,e,a){"use strict";var i=a("oncl"),o=a.n(i);o.a},Y9fb:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("div",[t._l(t.fields,function(e,i){return t.loaded?[t.isType(e.type,"checkbox")?a("form-row-checkbox",{staticClass:"col-sm-12 no-margin",class:{"col-xl-6":!e.fullWidth,"col-12":e.fullWidth},attrs:{type:e.type,validation:t.$v.local[i],attributes:e.attributes,label:t.$t(e.label),"helper-label":t.$t(e.helperLabel),"error-label":t.$t(e.errorLabel)},model:{value:t.local[i],callback:function(e){t.$set(t.local,i,e)},expression:"local[key]"}}):a("form-row",{staticClass:"col-sm-12 no-margin",class:{"col-xl-6":!e.fullWidth,"col-12":e.fullWidth},attrs:{type:e.type,"select-options":e.options,validation:e.validators?t.$v.local[i]:void 0,attributes:e.attributes,label:t.$t(e.label),"helper-label":t.$t(e.helperLabel),"error-label":t.$t(e.errorLabel)},model:{value:t.local[i],callback:function(e){t.$set(t.local,i,e)},expression:"local[key]"}})]:t._e()})],2),a("div",{staticClass:"row xs-gutter full-width justify-end items-end"},[t._t("form-buttons-add"),t._t("form-buttons",[a("submit-button",{staticClass:"q-mt-md",attrs:{active:t.maySubmit}},[t._v(t._s(t.$t(t.schema.submit.label)||t.$t("buttons.submit")))])])],2),a("mb-notification-service")],1)},o=[],n=a("Kw5r"),s=a("Hc5T"),l=a.n(s),r=a("9oTK"),c=a.n(r),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"hidden"===t.type?a("q-input",{attrs:{type:t.type},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}}):a("q-field",{attrs:{dark:!0,label:t.fieldLabel,error:t.validation?t.validation.$error:void 0,"error-label":t.errorLabel,helper:t.helperLabel||""}},["select"===t.type?a("q-select",{attrs:{"float-label":t.label,dark:!0,options:t.selectOptions},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}}):a("q-input",{attrs:{dark:!0,"float-label":t.label,type:t.type,attributes:t.attributes},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}})],1)},d=[],m={props:["value","attributes","validation","type","label","fieldLabel","errorLabel","helperLabel","selectOptions"],data:function(){return{local:void 0}},computed:{error:function(){if("hidden"!==this.type)return this.validation&&this.validation.$error}},watch:{local:function(t){"hidden"!==this.type&&(this.validation&&this.validation.$touch(),this.$emit("input",t))}},created:function(){this.local=this.value,"hidden"!==this.type&&this.validation&&this.validation.$reset()}},p=m,f=(a("Excf"),a("KHd+")),h=Object(f["a"])(p,u,d,!1,null,null,null),v=h.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-field",{attrs:{dark:!0,error:t.validation?t.validation.$error:void 0}},[a("q-checkbox",{attrs:{dark:!0,label:t.label,color:"primary"},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}})],1)},y=[],g={props:["value","validation","type","label"],data:function(){return{local:!1}},computed:{error:function(){return this.validation&&this.validation.$error}},watch:{local:function(t){this.validation&&this.validation.$touch(),this.$emit("input",t)}},created:function(){this.local="boolean"===typeof this.value&&this.value}},$=g,_=(a("ERwe"),Object(f["a"])($,b,y,!1,null,null,null)),k=_.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-btn",{attrs:{dark:!0,outline:"","icon-right":"forward",color:t.active?"primary":"light",type:"submit",disabled:!t.active},on:{click:t.clickHandler}},[t._t("default")],2)},w=[],x={props:["active","click"],methods:{clickHandler:function(){if("function"===typeof this.click){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];this.click(e)}}}},E=x,L=(a("jn02"),Object(f["a"])(E,C,w,!1,null,null,null)),I=L.exports,S=a("4IOb");n["a"].use(l.a);var O={components:{FormRow:v,FormRowCheckbox:k,SubmitButton:I},props:["value","schema"],data:function(){return{typemap:{password:"text"},local:void 0,loaded:!1}},mounted:function(){this.initForm()},computed:{initial:function(){var t={};for(var e in this.fields)this.fields[e].initial&&(t[e]=this.fields[e].initial);return this.$store.state.forms[this.schema.state]||t},fields:function(){return this.schema&&this.schema.fields?this.schema.fields:{}},validators:function(){var t={};for(var e in this.fields)this.fields[e].validators&&(t[e]=this.fields[e].validators);return t},isDirty:function(){var t=!1;if(this.$v&&this.$v.local){for(var e in this.local)this.$v.local[e]&&this.$v.local[e].$dirty&&(t=!0);return t}},maySubmit:function(){return!this.$v&&!this.$v.local||!this.$v.local.$invalid&&this.isDirty}},methods:{initForm:function(){var t=this;this.value&&this.value.then?this.value.then(function(e){t.local=e,t.loaded=!0}):(this.local=this.initial,this.loaded=!0)},handleSubmit:function(){if(this.maySubmit&&"function"===typeof this.schema.submit.handler){var t=this.$store,e=this.schema;S["d"].show({spinner:S["N"],spinnerSize:200,spinnerColor:"grey"}),c.a.resolve().then(e.submit.handler).then(function(a){var i=e.submit?e.submit.message:void 0;i=i||(a?a.message():"messages.submit_success"),S["d"].hide(),t.commit("notifications/addMessage",{body:i,type:"success"}),e.state&&t.commit("forms/".concat(e.state),null)}).catch(function(e){S["d"].hide(),console.debug("Form submit:",e),t.commit("notifications/addMessage",{body:e.message?"".concat(e.message).concat(e.code?" ("+e.code+")":""):"messages.submit_error",mode:"alert",type:"error"})})}},isType:function(t,e){return this.typemap[t]?this.typemap[t]===e:t===e}},watch:{local:{handler:function(t){t||this.initForm(),this.$emit("input",t),this.schema.state&&this.$store.commit("forms/".concat(this.schema.state),t)},deep:!0}},validations:function(){return{local:this.validators}}},q=O,T=(a("pb+S"),Object(f["a"])(q,i,o,!1,null,null,null));e["a"]=T.exports},YIeI:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row fullscreen vertical-middle justify-center items-center"},[i("div",{staticClass:"abc",attrs:{id:"back-button"}},[t._t("backButton")],2),i("div",{staticClass:"column col-9 sm-gutter"},[i("q-card",{staticClass:"full-width",attrs:{color:"dark"}},[i("div",{staticClass:"layout-padding"},[i("q-card-main",{staticClass:"no-margin",attrs:{color:"dark"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"column width-3of4"},[i("h4",{staticClass:"caption"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[i("a",{staticClass:"gt-md logo",on:{click:function(e){t.openURL("http://www.motionbank.org")}}},[i("img",{staticClass:"responsive",attrs:{src:a("b2zc")}})])])],2)]),i("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)]),i("site-footer")],1)])},o=[],n=a("4IOb"),s=a("vpOM"),l={components:{SiteFooter:s["a"]},data:function(){return{openURL:n["Ca"]}}},r=l,c=(a("UrZy"),a("KHd+")),u=Object(c["a"])(r,i,o,!1,null,null,null);e["a"]=u.exports},b2zc:function(t,e,a){t.exports=a.p+"img/motionbank-logo.53196fd.png"},jn02:function(t,e,a){"use strict";var i=a("GmLm"),o=a.n(i);o.a},kiQV:function(t){t.exports={b:"0.3.0",a:"MIT"}},n34Y:function(t,e,a){"use strict";var i=a("o89N"),o=a.n(i);o.a},o89N:function(t,e,a){},oncl:function(t,e,a){},"pb+S":function(t,e,a){"use strict";var i=a("FYjI"),o=a.n(i);o.a},vpOM:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row full-width light-paragraph justify-between items-center generic-margin"},[a("div",{staticClass:"group",class:{"absolute-bottom-left":t.positionCorners,"layout-padding":t.positionCorners}},[a("small",{staticClass:"generic-margin"},[t._v(t._s(t.$t("site.copyright")))]),a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.imprint")))])]),a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/kontakt")}}},[t._v(t._s(t.$t("navigation.contact")))])]),a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.terms")))])])]),a("div",{staticClass:"group",class:{"absolute-bottom-right":t.positionCorners,"layout-padding":t.positionCorners}},[a("small",{staticClass:"generic-margin"},[a("a",{on:{click:function(e){t.openURL("https://github.com/motionbank")}}},[t._v(t._s(t.$t("navigation.github")))])]),a("small",[t._v(t._s(t.$t("site.version"))+": v"+t._s(t.version))]),a("small",[t._v(t._s(t.$t("site.license"))+": "+t._s(t.license))])])])},o=[],n=a("4IOb"),s=a("kiQV"),l={data:function(){return{openURL:n["Ca"],version:s["b"],license:s["a"]}},props:["positionCorners"]},r=l,c=(a("n34Y"),a("KHd+")),u=Object(c["a"])(r,i,o,!1,null,null,null);e["a"]=u.exports},wbdi:function(t,e,a){"use strict";var i="Timeline",o="2DGrid",n="HH:mm:ss:SSS";e["a"]={MAP_TYPE_TIMELINE:i,MAP_TYPE_2D_GRID:o,TIMECODE_FORMAT:n}},yQ8e:function(t,e,a){}}]);