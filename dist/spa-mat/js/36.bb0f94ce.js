(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{"4Yag":function(t,e,i){"use strict";var a=i("Y9fb"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"form-wrap"},[i("div",{staticClass:"form-top"},[t._t("form-top-item")],2),i("div",{staticClass:"form-middle"},[t._t("form-middle-item")],2),i("div",{staticClass:"form-bottom"},[t._t("form-bottom-item")],2)])},s=[],n={},l=n,r=(i("kVOQ"),i("KHd+")),c=Object(r["a"])(l,o,s,!1,null,"4a17f591",null),u=c.exports;i.d(e,"a",function(){return a["a"]}),i.d(e,!1,function(){return u})},CTQT:function(t,e,i){"use strict";var a=i("PWEE"),o=i.n(a);o.a},ERwe:function(t,e,i){"use strict";var a=i("SHnS"),o=i.n(a);o.a},Excf:function(t,e,i){"use strict";var a=i("yQ8e"),o=i.n(a);o.a},FYjI:function(t,e,i){},GmLm:function(t,e,i){},KIJI:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showLogin?i("center-card-three-quarter",[i("span",{attrs:{slot:"form-title"},slot:"form-title"},[t._v(t._s(t.$t("routes.users.login.title")))]),i("p",{staticClass:"caption",attrs:{slot:"form-caption"},slot:"form-caption"},[t._v(t._s(t.$t("routes.users.login.caption"))),i("br"),i("router-link",{attrs:{to:{name:"users.create"}}},[t._v(t._s(t.$t("links.click_to_register")))])],1),i("form-main",{attrs:{schema:t.schema},model:{value:t.payload,callback:function(e){t.payload=e},expression:"payload"}},[i("q-btn",{attrs:{slot:"form-buttons-add",flat:"",color:"light"},on:{click:function(e){t.$router.push({name:"users.forgot"})}},slot:"form-buttons-add"},[t._v(t._s(t.$t("buttons.forgot_password")))])],1)],1):t._e()},o=[],s=(i("pIFo"),i("YIeI")),n=i("4Yag"),l=i("ta7f"),r={components:{CenterCardThreeQuarter:s["a"],FormMain:n["a"]},props:["auth"],beforeMount:function(){var t=this;this.$mbAuth().checkSession(this.$store).then(function(e){e?t.$router.replace(t.redirect||{name:"users.edit",params:{id:"me"}}):t.showLogin=!0}).catch(function(){t.showLogin=!0})},data:function(){var t=this,e={fields:{email:{type:"text",label:"labels.email",errorLabel:"errors.invalid_email",attributes:{autocomplete:"section-login current-email"},validators:{required:l["required"],email:l["email"]}},password:{type:"password",label:"labels.password",errorLabel:"errors.invalid_password",attributes:{autocomplete:"section-login current-password"},validators:{required:l["required"],minLength:Object(l["minLength"])(6)}}},submit:{handler:function(){return t.$mbAuth().handleAuthentication(t.payload,{store:t.$store,redirect:t.redirect})}}};return{showLogin:!1,redirect:t.$route.query.redirect,label:"buttons.login",message:"messages.login_success",payload:void 0,schema:e}}},c=r,u=(i("CTQT"),i("KHd+")),d=Object(u["a"])(c,a,o,!1,null,null,null);e["default"]=d.exports},OKdF:function(t,e,i){},PWEE:function(t,e,i){},SHnS:function(t,e,i){},UrZy:function(t,e,i){"use strict";var a=i("oncl"),o=i.n(a);o.a},Y9fb:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("div",[t._l(t.fields,function(e,a){return t.loaded?[t.isType(e.type,"checkbox")?i("form-row-checkbox",{staticClass:"col-sm-12 no-margin",class:{"col-xl-6":!e.fullWidth,"col-12":e.fullWidth},attrs:{type:e.type,validation:t.$v.local[a],attributes:e.attributes,label:t.$t(e.label),"helper-label":t.$t(e.helperLabel),"error-label":t.$t(e.errorLabel)},model:{value:t.local[a],callback:function(e){t.$set(t.local,a,e)},expression:"local[key]"}}):i("form-row",{staticClass:"col-sm-12 no-margin",class:{"col-xl-6":!e.fullWidth,"col-12":e.fullWidth},attrs:{type:e.type,"select-options":e.options,validation:e.validators?t.$v.local[a]:void 0,attributes:e.attributes,label:t.$t(e.label),"helper-label":t.$t(e.helperLabel),"error-label":t.$t(e.errorLabel)},model:{value:t.local[a],callback:function(e){t.$set(t.local,a,e)},expression:"local[key]"}})]:t._e()})],2),i("div",{staticClass:"row xs-gutter full-width justify-end items-end"},[t._t("form-buttons-add"),t._t("form-buttons",[i("submit-button",{staticClass:"q-mt-md",attrs:{active:t.maySubmit}},[t._v(t._s(t.$t(t.schema.submit.label)||t.$t("buttons.submit")))])])],2),i("mb-notification-service")],1)},o=[],s=i("Kw5r"),n=i("Hc5T"),l=i.n(n),r=i("9oTK"),c=i.n(r),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"hidden"===t.type?i("q-input",{attrs:{type:t.type},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}}):i("q-field",{attrs:{dark:!0,label:t.fieldLabel,error:t.validation?t.validation.$error:void 0,"error-label":t.errorLabel,helper:t.helperLabel||""}},["select"===t.type?i("q-select",{attrs:{"float-label":t.label,dark:!0,options:t.selectOptions},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}}):i("q-input",{attrs:{dark:!0,"float-label":t.label,type:t.type,attributes:t.attributes},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}})],1)},d=[],m={props:["value","attributes","validation","type","label","fieldLabel","errorLabel","helperLabel","selectOptions"],data:function(){return{local:void 0}},computed:{error:function(){if("hidden"!==this.type)return this.validation&&this.validation.$error}},watch:{local:function(t){"hidden"!==this.type&&(this.validation&&this.validation.$touch(),this.$emit("input",t))}},created:function(){this.local=this.value,"hidden"!==this.type&&this.validation&&this.validation.$reset()}},f=m,h=(i("Excf"),i("KHd+")),p=Object(h["a"])(f,u,d,!1,null,null,null),v=p.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-field",{attrs:{dark:!0,error:t.validation?t.validation.$error:void 0}},[i("q-checkbox",{attrs:{dark:!0,label:t.label,color:"primary"},model:{value:t.local,callback:function(e){t.local=e},expression:"local"}})],1)},g=[],_={props:["value","validation","type","label"],data:function(){return{local:!1}},computed:{error:function(){return this.validation&&this.validation.$error}},watch:{local:function(t){this.validation&&this.validation.$touch(),this.$emit("input",t)}},created:function(){this.local="boolean"===typeof this.value&&this.value}},y=_,$=(i("ERwe"),Object(h["a"])(y,b,g,!1,null,null,null)),k=$.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-btn",{attrs:{dark:!0,outline:"","icon-right":"forward",color:t.active?"primary":"light",type:"submit",disabled:!t.active},on:{click:t.clickHandler}},[t._t("default")],2)},C=[],x={props:["active","click"],methods:{clickHandler:function(){if("function"===typeof this.click){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.click(e)}}}},L=x,O=(i("jn02"),Object(h["a"])(L,w,C,!1,null,null,null)),q=O.exports,j=i("4IOb");s["a"].use(l.a);var E={components:{FormRow:v,FormRowCheckbox:k,SubmitButton:q},props:["value","schema"],data:function(){return{typemap:{password:"text"},local:void 0,loaded:!1}},mounted:function(){this.initForm()},computed:{initial:function(){var t={};for(var e in this.fields)this.fields[e].initial&&(t[e]=this.fields[e].initial);return this.$store.state.forms[this.schema.state]||t},fields:function(){return this.schema&&this.schema.fields?this.schema.fields:{}},validators:function(){var t={};for(var e in this.fields)this.fields[e].validators&&(t[e]=this.fields[e].validators);return t},isDirty:function(){var t=!1;if(this.$v&&this.$v.local){for(var e in this.local)this.$v.local[e]&&this.$v.local[e].$dirty&&(t=!0);return t}},maySubmit:function(){return!this.$v&&!this.$v.local||!this.$v.local.$invalid&&this.isDirty}},methods:{initForm:function(){var t=this;this.value&&this.value.then?this.value.then(function(e){t.local=e,t.loaded=!0}):(this.local=this.initial,this.loaded=!0)},handleSubmit:function(){if(this.maySubmit&&"function"===typeof this.schema.submit.handler){var t=this.$store,e=this.schema;j["d"].show({spinner:j["N"],spinnerSize:200,spinnerColor:"grey"}),c.a.resolve().then(e.submit.handler).then(function(i){var a=e.submit?e.submit.message:void 0;a=a||(i?i.message():"messages.submit_success"),j["d"].hide(),t.commit("notifications/addMessage",{body:a,type:"success"}),e.state&&t.commit("forms/".concat(e.state),null)}).catch(function(e){j["d"].hide(),console.debug("Form submit:",e),t.commit("notifications/addMessage",{body:e.message?"".concat(e.message).concat(e.code?" ("+e.code+")":""):"messages.submit_error",mode:"alert",type:"error"})})}},isType:function(t,e){return this.typemap[t]?this.typemap[t]===e:t===e}},watch:{local:{handler:function(t){t||this.initForm(),this.$emit("input",t),this.schema.state&&this.$store.commit("forms/".concat(this.schema.state),t)},deep:!0}},validations:function(){return{local:this.validators}}},S=E,F=(i("pb+S"),Object(h["a"])(S,a,o,!1,null,null,null));e["a"]=F.exports},YIeI:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row fullscreen vertical-middle justify-center items-center"},[a("div",{staticClass:"abc",attrs:{id:"back-button"}},[t._t("backButton")],2),a("div",{staticClass:"column col-9 sm-gutter"},[a("q-card",{staticClass:"full-width",attrs:{color:"dark"}},[a("div",{staticClass:"layout-padding"},[a("q-card-main",{staticClass:"no-margin",attrs:{color:"dark"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"column width-3of4"},[a("h4",{staticClass:"caption"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[a("a",{staticClass:"gt-md logo",on:{click:function(e){t.openURL("http://www.motionbank.org")}}},[a("img",{staticClass:"responsive",attrs:{src:i("b2zc")}})])])],2)]),a("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)]),a("site-footer")],1)])},o=[],s=i("4IOb"),n=i("vpOM"),l={components:{SiteFooter:n["a"]},data:function(){return{openURL:s["Ca"]}}},r=l,c=(i("UrZy"),i("KHd+")),u=Object(c["a"])(r,a,o,!1,null,null,null);e["a"]=u.exports},b2zc:function(t,e,i){t.exports=i.p+"img/motionbank-logo.53196fd.png"},jn02:function(t,e,i){"use strict";var a=i("GmLm"),o=i.n(a);o.a},kVOQ:function(t,e,i){"use strict";var a=i("OKdF"),o=i.n(a);o.a},kiQV:function(t){t.exports={b:"0.3.0",a:"MIT"}},n34Y:function(t,e,i){"use strict";var a=i("o89N"),o=i.n(a);o.a},o89N:function(t,e,i){},oncl:function(t,e,i){},"pb+S":function(t,e,i){"use strict";var a=i("FYjI"),o=i.n(a);o.a},vpOM:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row full-width light-paragraph justify-between items-center generic-margin"},[i("div",{staticClass:"group",class:{"absolute-bottom-left":t.positionCorners,"layout-padding":t.positionCorners}},[i("small",{staticClass:"generic-margin"},[t._v(t._s(t.$t("site.copyright")))]),i("small",{staticClass:"generic-margin"},[i("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.imprint")))])]),i("small",{staticClass:"generic-margin"},[i("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/kontakt")}}},[t._v(t._s(t.$t("navigation.contact")))])]),i("small",{staticClass:"generic-margin"},[i("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.terms")))])])]),i("div",{staticClass:"group",class:{"absolute-bottom-right":t.positionCorners,"layout-padding":t.positionCorners}},[i("small",{staticClass:"generic-margin"},[i("a",{on:{click:function(e){t.openURL("https://github.com/motionbank")}}},[t._v(t._s(t.$t("navigation.github")))])]),i("small",[t._v(t._s(t.$t("site.version"))+": v"+t._s(t.version))]),i("small",[t._v(t._s(t.$t("site.license"))+": "+t._s(t.license))])])])},o=[],s=i("4IOb"),n=i("kiQV"),l={data:function(){return{openURL:s["Ca"],version:n["b"],license:n["a"]}},props:["positionCorners"]},r=l,c=(i("n34Y"),i("KHd+")),u=Object(c["a"])(r,a,o,!1,null,null,null);e["a"]=u.exports},yQ8e:function(t,e,i){}}]);