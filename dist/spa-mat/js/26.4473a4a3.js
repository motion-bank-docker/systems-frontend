(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{"2Gtw":function(t,e,n){"use strict";n("f3/d");var i=n("cDf5"),o=n.n(i),a=n("lwsE"),r=n.n(a),s=n("W8MJ"),l=n.n(s),c=n("ExVU"),u=n("9lTW"),m=n.n(u);c["Settings"].defaultLocale=c["DateTime"].local().resolvedLocaleOpts().locale;var d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r()(this,t),this._dateTime=e?c["DateTime"].local().toUTC():c["DateTime"].local()}return l()(t,[{key:"setToUTC",value:function(){this._dateTime=this._dateTime.toUTC()}},{key:"toString",value:function(){return this.isoString}},{key:"toFormat",value:function(t){return m.a.equal(o()(t),"string"),this._dateTime.toFormat(t)}},{key:"add",value:function(t){m()("number"===typeof t||"Duration"===t.constructor.name),this._dateTime=this._dateTime.plus(t)}},{key:"subtract",value:function(t){m()("number"===typeof t||"Duration"===t.constructor.name),this._dateTime=this._dateTime.minus(t)}},{key:"isoString",set:function(t){m.a.equal(o()(t),"string"),this._dateTime=c["DateTime"].fromISO(t)},get:function(){return this._dateTime.toISO()}},{key:"millis",set:function(t){m.a.equal(o()(t),"number"),this._dateTime=c["DateTime"].fromMillis(t)},get:function(){return this._dateTime.valueOf()}},{key:"dateTime",set:function(t){m()(t instanceof c["DateTime"]),this._dateTime=c["DateTime"].fromISO(t.toISO())},get:function(){return this._dateTime}}],[{key:"fromISOString",value:function(e){var n=new t;return n.isoString=e,n}},{key:"fromMilliseconds",value:function(e){var n=new t;return n.millis=e,n}},{key:"fromDateTime",value:function(e){var n=new t;return n.dateTime=e,n}},{key:"timeBetween",value:function(t,e){return m.a.equal(t.constructor.name,"TimelineSelector"),m.a.equal(e.constructor.name,"TimelineSelector"),c["Interval"].fromDateTimes(t.dateTime,e.dateTime).toDuration()}}]),t}();e["a"]=d},"2U4R":function(t,e,n){},EBPd:function(t,e,n){"use strict";var i=n("2U4R"),o=n.n(i);o.a},EWBh:function(t,e,n){"use strict";var i=n("zBEG"),o=n.n(i);o.a},JUnI:function(t,e,n){"use strict";var i={};n.d(i,"TimelineSelector",function(){return o["a"]});var o=n("2Gtw"),a=n("lwsE"),r=n.n(a),s=n("W8MJ"),l=n.n(s),c=function(){function t(){r()(this,t)}return l()(t,null,[{key:"sortOnTarget",value:function(t,e){var n=t.target&&t.target.selector?o["a"].fromISOString(t.target.selector.value):null,i=e.target&&e.target.selector?o["a"].fromISOString(e.target.selector.value):null;return n&&i&&n.dateTime>i.dateTime?1:n&&i&&n.dateTime<i.dateTime?-1:0}}]),t}(),u=c;e["a"]={selectors:i,Sorting:u}},NGug:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("q-btn",{attrs:{slot:"nav-button",id:"button-back",icon:"keyboard_backspace",round:"",small:""},on:{click:function(e){t.$router.push("/piecemaker/groups/show")}},slot:"nav-button"}),n("span",{attrs:{slot:"form-logo"},slot:"form-logo"}),n("span",{attrs:{slot:"form-title"},slot:"form-title"}),n("q-input",{attrs:{id:"input",type:"textarea",autofocus:""},on:{keyup:t.keyMonitor},model:{value:t.currentBody.value,callback:function(e){t.$set(t.currentBody,"value",e)},expression:"currentBody.value"}}),n("q-list",{attrs:{"no-border":"",id:"list"}},t._l(t.annotations,function(e,i){return n("q-item",{key:e.uuid,staticClass:"annotation",attrs:{id:e.uuid}},[e.target.selector?n("q-item-side",[t._v(t._s(t.formatSelectorForList(e.target.selector.value)))]):t._e(),n("q-item-main",[n("q-item-tile",{staticClass:"text-left"},[n("q-input",{staticClass:"color",attrs:{type:"textarea"},model:{value:e.body.value,callback:function(n){t.$set(e.body,"value",n)},expression:"annotation.body.value"}})],1)],1),n("q-item-side",{staticClass:"text-right"},[n("q-btn",{attrs:{icon:"clear",round:"",small:""},on:{click:function(n){t.deleteAnnotation(e.uuid,i)}}})],1)],1)}))],1)},o=[],a=(n("Vd3H"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row justify-center items-center"},[i("div",{staticClass:"column col-12"},[i("q-card",{staticClass:"full-width window-height no-margin",attrs:{color:"dark"}},[i("div",{staticClass:"layout-padding"},[i("q-card-main",{staticClass:"no-margin"},[t._t("nav-button"),i("div",{staticClass:"row justify-between content-stretch"},[i("div",{staticClass:"column width-3of4"},[i("h4",{staticClass:"caption light-paragraph no-margin"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[i("a",{staticClass:"gt-md logo",on:{click:function(e){t.openURL("http://www.motionbank.org")}}},[i("img",{staticClass:"responsive",attrs:{src:n("b2zc")}})])])],2)],2),i("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)])],1)])}),r=[],s=n("4IOb"),l=n("vpOM"),c={components:{SiteFooter:l["a"]},data:function(){return{openURL:s["Ca"]}}},u=c,m=(n("EWBh"),n("KHd+")),d=Object(m["a"])(u,a,r,!1,null,null,null),v=d.exports,f=n("GBbM"),p=n("4KWY"),g=n.n(p),h=n("wbdi"),T=n("JUnI"),y=T["a"].selectors.TimelineSelector,_={components:{Full:v},data:function(){return{prevKey:void 0,currentBody:{value:void 0,purpose:"commenting",type:"TextualBody"},currentSelector:{type:"Fragment",value:void 0},annotations:[]}},methods:{keyMonitor:function(t){if(13===this.prevKey&&13===t.keyCode){this.prevKey=void 0;var e=this.currentBody.value.length;e>2?(this.currentBody.value=this.currentBody.value.substr(0,e-2),this.createAnnotation()):this.currentBody.value=void 0}else void 0===this.currentSelector.value&&(this.currentSelector.value=(new y).isoString),this.prevKey=t.keyCode},createAnnotation:function(){var t=this,e={author:t.$store.state.auth.payload.userId,body:f["ObjectUtil"].merge({},t.currentBody),target:{id:t.$route.params.id,type:h["a"].MAP_TYPE_TIMELINE,selector:f["ObjectUtil"].merge({},t.currentSelector)}};return this.currentBody.value=void 0,this.currentSelector.value=void 0,this.$store.dispatch("annotations/create",e).then(function(e){t.annotations.push(e),t.annotations=t.annotations.sort(T["a"].Sorting.sortOnTarget),t.scrollToElement()})},deleteAnnotation:function(t,e){var n=this;return f["Assert"].ok(g()(t)),f["Assert"].isType(e,"number"),this.$store.dispatch("annotations/remove",t).then(function(){n.annotations.splice(e,1)})},scrollToElement:function(){setTimeout(function(){window.scrollTo(0,document.body.scrollHeight)},250)},formatSelectorForList:function(t){var e=y.fromISOString(t);return e.toFormat(h["a"].TIMECODE_FORMAT)}}},b=_,k=(n("EBPd"),Object(m["a"])(b,i,o,!1,null,"0ba5daa2",null));e["default"]=k.exports},b2zc:function(t,e,n){t.exports=n.p+"img/motionbank-logo.53196fd.png"},kiQV:function(t){t.exports={b:"0.3.0",a:"MIT"}},n34Y:function(t,e,n){"use strict";var i=n("o89N"),o=n.n(i);o.a},o89N:function(t,e,n){},vpOM:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row full-width light-paragraph justify-between items-center generic-margin"},[n("div",{staticClass:"group",class:{"absolute-bottom-left":t.positionCorners,"layout-padding":t.positionCorners}},[n("small",{staticClass:"generic-margin"},[t._v(t._s(t.$t("site.copyright")))]),n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.imprint")))])]),n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/kontakt")}}},[t._v(t._s(t.$t("navigation.contact")))])]),n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.terms")))])])]),n("div",{staticClass:"group",class:{"absolute-bottom-right":t.positionCorners,"layout-padding":t.positionCorners}},[n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("https://github.com/motionbank")}}},[t._v(t._s(t.$t("navigation.github")))])]),n("small",[t._v(t._s(t.$t("site.version"))+": v"+t._s(t.version))]),n("small",[t._v(t._s(t.$t("site.license"))+": "+t._s(t.license))])])])},o=[],a=n("4IOb"),r=n("kiQV"),s={data:function(){return{openURL:a["Ca"],version:r["b"],license:r["a"]}},props:["positionCorners"]},l=s,c=(n("n34Y"),n("KHd+")),u=Object(c["a"])(l,i,o,!1,null,null,null);e["a"]=u.exports},wbdi:function(t,e,n){"use strict";var i="Timeline",o="2DGrid",a="HH:mm:ss:SSS";e["a"]={MAP_TYPE_TIMELINE:i,MAP_TYPE_2D_GRID:o,TIMECODE_FORMAT:a}},zBEG:function(t,e,n){}}]);