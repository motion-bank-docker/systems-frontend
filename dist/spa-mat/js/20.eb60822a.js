(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{LiJb:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card-full",[n("q-btn",{attrs:{slot:"backButton",icon:"keyboard_backspace",round:"",small:""},on:{click:function(e){t.$router.push({name:"piecemaker.groups.list"})}},slot:"backButton"}),n("span",{attrs:{slot:"form-logo"},slot:"form-logo"}),n("span",{attrs:{slot:"form-title"},slot:"form-title"},[n("div",{staticClass:"text-grey-6"},[t._v("Session")])]),n("div",[t.previewLine.visibility?n("div",{staticClass:"fixed",staticStyle:{top:"50px",left:"0"},model:{value:t.previewLine,callback:function(e){t.previewLine=e},expression:"previewLine"}},[t._v(t._s(t.previewLine.positionY))]):t._e(),n("div",[n("div",{staticClass:"row q-mb-sm text-grey-5"},[n("div",{staticClass:"col-6"},[n("div",{staticClass:"q-mb-sm"},[t._v("Titel: Session von dann und dann")]),n("div",[n("q-btn",{attrs:{icon:"arrow_left",size:"sm",flat:"",round:""}}),n("q-btn",{staticClass:"q-mx-xs",attrs:{label:"27.7.2016",size:"sm"}}),n("q-btn",{attrs:{icon:"arrow_right",size:"sm",flat:"",round:""}})],1)]),n("div",{staticClass:"col-6 text-right"},[n("span",{model:{value:t.numberRandomAnnotations,callback:function(e){t.numberRandomAnnotations=e},expression:"numberRandomAnnotations"}},[t._v("randomly added annotations: "+t._s(t.numberRandomAnnotations))])])]),n("div",{staticClass:"row col-12",staticStyle:{"border-top":"1px solid #333","border-bottom":"1px solid #333"}},[n("svg",{staticClass:"col-6",attrs:{height:t.svgHeight},model:{value:t.svgHeight,callback:function(e){t.svgHeight=e},expression:"svgHeight"}},[n("svg",[n("svg",{attrs:{x:"15"}},t._l(t.videos,function(t,e){return n("rect",{staticClass:"moba-swimlane",attrs:{width:"30",height:t.duration,x:40*e,y:t.referencetime}})})),n("g",[t._l(t.filteredAnnotations,function(t){return n("rect",{staticClass:"moba-svg-entry",staticStyle:{fill:"rgba(255,255,255, .4)!important"},attrs:{width:"180",height:"1",y:t.referencetime}})}),t.previewLine.visibility?n("rect",{staticStyle:{fill:"rgba(255,0,0, 1)!important"},attrs:{width:"180",height:"1",y:t.previewLine.positionY}}):t._e()],2)]),n("svg",{attrs:{x:"200"}},[n("line",{staticStyle:{stroke:"rgba(255,255,255,.1)","stroke-width":"1"},attrs:{x1:"3",y1:"0",x2:"3",y2:"100%"}}),n("g",t._l(t.annotations,function(e){return n("circle",{staticClass:"moba-svg-entry moba-hover-test",staticStyle:{fill:"rgb(255,255,255)"},attrs:{r:"3",cx:"3",cy:e.referencetime},on:{mouseenter:function(n){t.hoverVal=e.referencetime,t.previewLine.positionY=e.referencetime,t.previewLine.visibility=!0},mouseleave:function(e){t.hoverVal="",t.previewLine.visibility=!1}}})}))]),t._l(t.arrFilter,function(e,i){return n("svg",{attrs:{x:250+40*i}},[n("rect",{attrs:{width:"30",height:"100%",fill:"rgba(255, 255, 255, .025)"}}),n("line",{staticStyle:{stroke:"rgba(255,255,255,.1)","stroke-width":"1"},attrs:{x1:"15",y1:"0",x2:"15",y2:"100%"}}),n("g",t._l(t.annotationsBlocks[i],function(e){return n("circle",{staticClass:"moba-svg-entry moba-hover-test",staticStyle:{fill:"rgb(255,255,255)"},attrs:{r:"3",cx:"15",cy:e.referencetime},on:{mouseenter:function(n){t.hoverVal=e.referencetime,t.previewLine.positionY=e.referencetime,t.previewLine.visibility=!0},mouseleave:function(e){t.hoverVal="",t.previewLine.visibility=!1}}})}))])})],2),n("q-list",{staticClass:"col-6 no-border no-padding",staticStyle:{width:"20vw","min-height":"10vh",display:"inline-block"}},[n("div",{staticClass:"q-item text-grey-6"},[t._v("Annotation sessions")]),n("div",{staticClass:"q-item"},[n("q-btn",{staticClass:"q-mx-sm q-mb-md",attrs:{label:"all","no-ripple":"","no-caps":""},on:{click:function(e){t.filterAnnotations(0,1e8)}}})],1),t._l(t.arrFilter,function(e,i){return n("div",{staticClass:"q-item text-grey-6"},[n("q-btn",{staticClass:"q-mx-sm q-mb-md",attrs:{"no-ripple":"","no-caps":""},on:{click:function(e){t.filterAnnotations(t.arrFilter[i].rangebegin,t.arrFilter[i].rangeend)}}},[t._v(t._s(t.arrFilter[i].rangebegin)+" â€“ "+t._s(t.arrFilter[i].rangeend))])],1)})],2)],1)])])],1)},s=[],a=(n("Vd3H"),n("UQzB")),r=n("huk2"),o={components:{DataTable:a["a"],CardFull:r["a"]},mounted:function(){this.getSvgHeight(this.videos),this.appendRandomAnnotations(),this.divideInBlocks(this.annotations),this.filterAnnotations(0,this.numberRandomAnnotations)},methods:{filterAnnotations:function(t,e){var n=this;this.filteredAnnotations=this.annotations.filter(function(n){return n.created>t&&n.created<=e});var i=0;for(i=0;i<this.arrFilter.length;i++)this.annotationsBlocks.push(this.annotations.filter(function(t){return t.created>n.arrFilter[i]["rangebegin"]&&t.created<=n.arrFilter[i]["rangeend"]}))},appendRandomAnnotations:function(){var t=0,e=this.annotations;for(t=0;t<this.numberRandomAnnotations;t++)e.push({referencetime:Math.floor(Math.random()*this.svgHeight),created:t,text:"Hier steht der Text. ("+t+")"})},getSvgHeight:function(t){var e=[],n=t.length,i=0;for(i=0;i<n;i++)e.push(parseInt(t[i].referencetime)+parseInt(t[i].duration));e.sort(function(t,e){return t-e}),this.svgHeight=e[n-1]},divideInBlocks:function(t){var e=t.slice(0);e.sort(function(t,e){return t.byReferencetime-e.byReferencetime})},setPrevCreated:function(t,e){console.log(e),this.prevCreated=parseInt(t)+parseInt(50)},onAction:function(t,e){var n=this;switch(t){case"annotate":return n.$router.push("/piecemaker/videos/".concat(e.row.uuid,"/annotate"))}}},data:function(){var t=this;return{annotations:[],annotationsBlocks:[],arrFilter:[{rangebegin:0,rangeend:30},{rangebegin:31,rangeend:120},{rangebegin:121,rangeend:150},{rangebegin:151,rangeend:200}],byReferencetime:[],filteredAnnotations:[],hoverVal:"",numberRandomAnnotations:200,prevCreated:"100",previewLine:{visibility:!1,positionY:""},svgHeight:"100",columns:[{label:t.$t("labels.video_title"),field:"title",type:"string",sort:!0,filter:!0},{label:t.$t("labels.created"),field:"created",type:"date",sort:!0},{label:t.$t("labels.updated"),field:"updated",type:"date",sort:!0},{label:t.$t("labels.author"),field:"author"}],actions:[{type:"annotate",title:"buttons.annotate",color:"primary"},{type:"edit",title:"buttons.edit"},{type:"synchronize",title:"buttons.synchronize"},{type:"delete",title:"buttons.delete",icon:"highlight off"}],videos:[{created:"1",duration:"1000",id:"",referencetime:"0",title:"video 1"},{created:"20",duration:"1100",id:"",referencetime:"20",title:"video 1"},{created:"25",duration:"500",id:"",referencetime:"270",title:"video 1"},{created:"300",duration:"1282",id:"",referencetime:"12",title:"video 1"}]}}},l=o,c=(n("nBFA"),n("KHd+")),u=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=u.exports},Tjd0:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v(t._s(t.username))])},s=[],a=(n("f3/d"),n("ls82"),n("yXPU")),r=n.n(a),o={props:["uuid"],asyncComputed:{username:function(){var t=r()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.uuid){t.next=2;break}return t.abrupt("return","---");case 2:return t.next=4,this.$store.dispatch("users/get",this.uuid);case 4:return e=t.sent,t.abrupt("return",e.name);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},l=o,c=n("KHd+"),u=Object(c["a"])(l,i,s,!1,null,null,null);e["a"]=u.exports},UQzB:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-table",{attrs:{dark:!0,data:t.rows,config:t.conf,columns:t.cols,actions:t.actns,"row-key":"title"},on:{rowclick:function(e){t.onRowClick(e)}},scopedSlots:t._u([{key:"body-cell-title",fn:function(e){return n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",small:""}},[t._v(t._s(e.row.title))])],1)}},{key:"body-cell-actions",fn:function(e){return n("q-td",{attrs:{props:e}},t._l(t.actions,function(e){return n("q-btn",{key:e.type,attrs:{color:e.color||"neutral",flat:"",small:""},on:{click:function(n){t.action(e.action)}}},[t._v(t._s(t.$t(e.title)))])}))}}])})},s=[],a=(n("VRzm"),n("Tjd0")),r=n("ExVU"),o=n("GBbM"),l={components:{Username:a["a"]},props:["entries","config","columns","actions"],data:function(){var t=this,e={rowHeight:"50px",noHeader:!1,leftStickyColumns:0,rightStickyColumns:0,bodyStyle:{},messages:{noData:t.$t("table.no_data"),noDataAfterFiltering:t.$t("table.no_data_in_filter")}},n=this.columns.map(function(t){return o["ObjectUtil"].merge({filter:!1,sort:!1},t)});return n.push({label:"Actions",name:"actions",field:"action",classes:"bg-dark text-right"}),{rows:[],conf:o["ObjectUtil"].merge(e,t.config),cols:n,actns:t.actions}},methods:{onRowClick:function(t){this.$emit("row-click",t)},action:function(t){console.log(t)},updateEntries:function(){var t=this;this.entries instanceof Promise?this.entries.then(function(e){t.rows=e}):t.rows=this.entries},formatDateTime:function(t){return r["DateTime"].fromISO(t).toLocaleString(r["DateTime"].DATETIME_SHORT_WITH_SECONDS)}},mounted:function(){this.updateEntries()},watch:{entries:function(){this.updateEntries()}}},c=l,u=n("KHd+"),d=Object(u["a"])(c,i,s,!1,null,null,null);e["a"]=d.exports},VDrJ:function(t,e,n){"use strict";var i=n("wh9e"),s=n.n(i);s.a},YRKV:function(t,e,n){},b2zc:function(t,e,n){t.exports=n.p+"img/motionbank-logo.53196fd.png"},huk2:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row justify-center items-center"},[i("div",{attrs:{id:"back-button"}},[t._t("backButton")],2),i("div",{staticClass:"column col-10"},[i("q-card",{staticClass:"full-width no-margin",attrs:{color:"dark"}},[i("div",{staticClass:"layout-padding"},[i("q-card-main",{staticClass:"no-margin"},[t._t("nav-button"),i("div",{staticClass:"row justify-between content-stretch"},[i("div",{staticClass:"column width-3of4"},[i("h5",{staticClass:"caption light-paragraph"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[i("a",{staticClass:"gt-md logo",on:{click:function(e){t.openURL("http://www.motionbank.org")}}},[i("img",{staticClass:"responsive",attrs:{src:n("b2zc")}})])])],2)],2),i("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)]),i("site-footer")],1)])},s=[],a=n("4IOb"),r=n("vpOM"),o={components:{SiteFooter:r["a"]},data:function(){return{openURL:a["Ca"]}}},l=o,c=(n("VDrJ"),n("KHd+")),u=Object(c["a"])(l,i,s,!1,null,null,null);e["a"]=u.exports},kiQV:function(t){t.exports={b:"0.3.0",a:"MIT"}},n34Y:function(t,e,n){"use strict";var i=n("o89N"),s=n.n(i);s.a},nBFA:function(t,e,n){"use strict";var i=n("YRKV"),s=n.n(i);s.a},o89N:function(t,e,n){},vpOM:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row full-width light-paragraph justify-between items-center generic-margin"},[n("div",{staticClass:"group",class:{"absolute-bottom-left":t.positionCorners,"layout-padding":t.positionCorners}},[n("small",{staticClass:"generic-margin"},[t._v(t._s(t.$t("site.copyright")))]),n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.imprint")))])]),n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/kontakt")}}},[t._v(t._s(t.$t("navigation.contact")))])]),n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.terms")))])])]),n("div",{staticClass:"group",class:{"absolute-bottom-right":t.positionCorners,"layout-padding":t.positionCorners}},[n("small",{staticClass:"generic-margin"},[n("a",{on:{click:function(e){t.openURL("https://github.com/motionbank")}}},[t._v(t._s(t.$t("navigation.github")))])]),n("small",[t._v(t._s(t.$t("site.version"))+": v"+t._s(t.version))]),n("small",[t._v(t._s(t.$t("site.license"))+": "+t._s(t.license))])])])},s=[],a=n("4IOb"),r=n("kiQV"),o={data:function(){return{openURL:a["Ca"],version:r["b"],license:r["a"]}},props:["positionCorners"]},l=o,c=(n("n34Y"),n("KHd+")),u=Object(c["a"])(l,i,s,!1,null,null,null);e["a"]=u.exports},wh9e:function(t,e,n){}}]);