(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"1bD2":function(t,n,e){},"5RkO":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("card-full",[e("q-btn",{attrs:{slot:"backButton",icon:"keyboard_backspace",round:"",small:""},on:{click:function(n){t.$router.push({name:"piecemaker.groups.list"})}},slot:"backButton"}),e("span",{attrs:{slot:"form-logo"},slot:"form-logo"}),e("span",{attrs:{slot:"form-title"},slot:"form-title"},[t._v(t._s(t.$t("routes.piecemaker.videos.list.title")))]),e("p",[e("q-btn",{attrs:{color:"primary"},on:{click:function(n){t.$router.push({name:"piecemaker.videos.create",params:{groupId:t.$route.params.groupId}})}}},[t._v(t._s(t.$t("buttons.add_video")))])],1),e("data-table",{attrs:{entries:t.maps,columns:t.columns,actions:t.actions},on:{action:t.onAction}})],1)},a=[],s=(e("SRfc"),e("UQzB")),i=e("huk2"),r=e("9oTK"),c=e.n(r),l=e("CxY0"),u=e.n(l),p=e("33yf"),d=e.n(p),m=e("ktc5"),f=e.n(m),h=e("GBbM"),b={components:{DataTable:s["a"],CardFull:i["a"]},methods:{onAction:function(t,n){var e=this;switch(t){case"annotate":return e.$router.push("/piecemaker/videos/".concat(n.row.uuid,"/annotate"));case"edit":return e.$router.push("/piecemaker/videos/".concat(n.row.uuid,"/edit"));case"synchronize":return e.$router.push("/mosys/codarts/sync/".concat(e.$route.params.groupId,"/").concat(n.row.uuid));case"delete":e.$store.dispatch("annotations/remove",n.row.uuid).then(function(){e.maps=e.loadVideos()})}},loadVideos:function(){var t=this;return this.$store.dispatch("annotations/find",{query:{"body.purpose":"linking","target.id":this.$route.params.groupId}}).then(function(n){return c.a.map(n,function(n){var e=h["ObjectUtil"].merge({},n);return e.title=n.body.source,c.a.resolve().then(function(){if(0===n.body.source.indexOf("http")&&".mp4"!==d.a.extname(u.a.parse(n.body.source).path))return t.$axios.get("".concat(t.$globalConfig.app.hosts.api,"/proxy?url=").concat(encodeURIComponent(n.body.source))).then(function(t){var n=t.text.match(/<title[^>]*>([^<]+)<\/title>/)[1];e.title=f.a.decode(n)}).catch(function(t){console.warn("Error getting title for ".concat(n.body.source,": ").concat(t.message))})}).then(function(){return e})})})}},mounted:function(){var t=this;t.maps=this.loadVideos()},data:function(){var t=this;return{maps:[],columns:[{label:t.$t("labels.video_title"),field:"title",type:"string",sort:!0,filter:!0},{label:t.$t("labels.created"),field:"created",type:"date",sort:!0},{label:t.$t("labels.updated"),field:"updated",type:"date",sort:!0},{label:t.$t("labels.author"),field:"author"}],actions:[{type:"annotate",title:"buttons.annotate",color:"primary"},{type:"edit",title:"buttons.edit"},{type:"synchronize",title:"buttons.synchronize"},{type:"delete",title:"buttons.delete",icon:"highlight off"}]}}},g=b,v=(e("kt7F"),e("KHd+")),_=Object(v["a"])(g,o,a,!1,null,null,null);n["default"]=_.exports},Tjd0:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",[t._v(t._s(t.username))])},a=[],s=(e("f3/d"),e("ls82"),e("yXPU")),i=e.n(s),r={props:["uuid"],asyncComputed:{username:function(){var t=i()(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.uuid){t.next=2;break}return t.abrupt("return","---");case 2:return t.next=4,this.$store.dispatch("users/get",this.uuid);case 4:return n=t.sent,t.abrupt("return",n.name);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},c=r,l=e("KHd+"),u=Object(l["a"])(c,o,a,!1,null,null,null);n["a"]=u.exports},UQzB:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("q-table",{attrs:{dark:!0,data:t.rows,config:t.conf,columns:t.cols,actions:t.actns,"row-key":"title"},on:{rowclick:function(n){t.onRowClick(n)}},scopedSlots:t._u([{key:"body-cell-title",fn:function(n){return e("q-td",{attrs:{props:n}},[e("q-btn",{attrs:{flat:"",small:""}},[t._v(t._s(n.row.title))])],1)}},{key:"body-cell-actions",fn:function(n){return e("q-td",{attrs:{props:n}},t._l(t.actions,function(n){return e("q-btn",{key:n.type,attrs:{color:n.color||"neutral",flat:"",small:""},on:{click:function(e){t.action(n.action)}}},[t._v(t._s(t.$t(n.title)))])}))}}])})},a=[],s=(e("VRzm"),e("Tjd0")),i=e("ExVU"),r=e("GBbM"),c={components:{Username:s["a"]},props:["entries","config","columns","actions"],data:function(){var t=this,n={rowHeight:"50px",noHeader:!1,leftStickyColumns:0,rightStickyColumns:0,bodyStyle:{},messages:{noData:t.$t("table.no_data"),noDataAfterFiltering:t.$t("table.no_data_in_filter")}},e=this.columns.map(function(t){return r["ObjectUtil"].merge({filter:!1,sort:!1},t)});return e.push({label:"Actions",name:"actions",field:"action",classes:"bg-dark text-right"}),{rows:[],conf:r["ObjectUtil"].merge(n,t.config),cols:e,actns:t.actions}},methods:{onRowClick:function(t){this.$emit("row-click",t)},action:function(t){console.log(t)},updateEntries:function(){var t=this;this.entries instanceof Promise?this.entries.then(function(n){t.rows=n}):t.rows=this.entries},formatDateTime:function(t){return i["DateTime"].fromISO(t).toLocaleString(i["DateTime"].DATETIME_SHORT_WITH_SECONDS)}},mounted:function(){this.updateEntries()},watch:{entries:function(){this.updateEntries()}}},l=c,u=e("KHd+"),p=Object(u["a"])(l,o,a,!1,null,null,null);n["a"]=p.exports},VDrJ:function(t,n,e){"use strict";var o=e("wh9e"),a=e.n(o);a.a},b2zc:function(t,n,e){t.exports=e.p+"img/motionbank-logo.53196fd.png"},huk2:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"row justify-center items-center"},[o("div",{attrs:{id:"back-button"}},[t._t("backButton")],2),o("div",{staticClass:"column col-10"},[o("q-card",{staticClass:"full-width no-margin",attrs:{color:"dark"}},[o("div",{staticClass:"layout-padding"},[o("q-card-main",{staticClass:"no-margin"},[t._t("nav-button"),o("div",{staticClass:"row justify-between content-stretch"},[o("div",{staticClass:"column width-3of4"},[o("h5",{staticClass:"caption light-paragraph"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[o("a",{staticClass:"gt-md logo",on:{click:function(n){t.openURL("http://www.motionbank.org")}}},[o("img",{staticClass:"responsive",attrs:{src:e("b2zc")}})])])],2)],2),o("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)]),o("site-footer")],1)])},a=[],s=e("4IOb"),i=e("vpOM"),r={components:{SiteFooter:i["a"]},data:function(){return{openURL:s["Ca"]}}},c=r,l=(e("VDrJ"),e("KHd+")),u=Object(l["a"])(c,o,a,!1,null,null,null);n["a"]=u.exports},kiQV:function(t){t.exports={b:"0.3.0",a:"MIT"}},kt7F:function(t,n,e){"use strict";var o=e("1bD2"),a=e.n(o);a.a},n34Y:function(t,n,e){"use strict";var o=e("o89N"),a=e.n(o);a.a},o89N:function(t,n,e){},vpOM:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row full-width light-paragraph justify-between items-center generic-margin"},[e("div",{staticClass:"group",class:{"absolute-bottom-left":t.positionCorners,"layout-padding":t.positionCorners}},[e("small",{staticClass:"generic-margin"},[t._v(t._s(t.$t("site.copyright")))]),e("small",{staticClass:"generic-margin"},[e("a",{on:{click:function(n){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.imprint")))])]),e("small",{staticClass:"generic-margin"},[e("a",{on:{click:function(n){t.openURL("http://motionbank.org/de/content/kontakt")}}},[t._v(t._s(t.$t("navigation.contact")))])]),e("small",{staticClass:"generic-margin"},[e("a",{on:{click:function(n){t.openURL("http://motionbank.org/de/content/impressum")}}},[t._v(t._s(t.$t("navigation.terms")))])])]),e("div",{staticClass:"group",class:{"absolute-bottom-right":t.positionCorners,"layout-padding":t.positionCorners}},[e("small",{staticClass:"generic-margin"},[e("a",{on:{click:function(n){t.openURL("https://github.com/motionbank")}}},[t._v(t._s(t.$t("navigation.github")))])]),e("small",[t._v(t._s(t.$t("site.version"))+": v"+t._s(t.version))]),e("small",[t._v(t._s(t.$t("site.license"))+": "+t._s(t.license))])])])},a=[],s=e("4IOb"),i=e("kiQV"),r={data:function(){return{openURL:s["Ca"],version:i["b"],license:i["a"]}},props:["positionCorners"]},c=r,l=(e("n34Y"),e("KHd+")),u=Object(l["a"])(c,o,a,!1,null,null,null);n["a"]=u.exports},wh9e:function(t,n,e){}}]);