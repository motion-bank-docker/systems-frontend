(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{BXYN:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shadow-3",staticStyle:{padding:"1rem"}},[a("q-modal",{model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[a("div",{staticClass:"bg-black q-pa-lg row"},[a("h5",{staticClass:"no-margin no-padding col-12"},[t._v("Send an invitation")]),a("form-main",{staticClass:"col-12",attrs:{schema:t.schemaMail}})],1)]),a("div",{staticClass:"q-px-md"},[a("h5",{staticClass:"light-paragraph"},[t._v(t._s(t.headl)),a("span",{staticClass:"float-right"},[a("q-btn",{on:{click:function(e){t.openModal=!0}}},[t._v("Add user")])],1)]),a("q-data-table",{attrs:{dark:!0,data:t.users,config:t.conf,columns:t.cols,actions:t.actns},on:{rowclick:function(e){t.onRowClick(e)}},scopedSlots:t._u([{key:"col-name",fn:function(e){return[t._l(e,function(e){return[t._v(t._s(e.name))]})]}},{key:"col-confirmed",fn:function(e){return[e.data?a("div",{staticClass:"text-center"},[a("q-icon",{attrs:{name:"done"}})],1):t._e()]}},{key:"col-action",fn:function(e){return t._l(t.actions,function(n){return a("q-btn",{key:n.type,attrs:{flat:"",small:"",color:n.color||"neutral"},on:{click:function(a){t.action(n.type,e,n.scope)}}},[t._v(t._s(t.$t(n.title)))])})}}])})],1)],1)},r=[],s=(a("VRzm"),a("91GP"),a("Y9fb")),i=a("Tjd0"),o=a("ExVU"),l=a("wbdi"),c=a("ta7f"),u={components:{Username:i["a"],FormMain:s["a"]},props:["columns","actions","headline"],data:function(){var t=this,e={rowHeight:"50px",noHeader:!1,leftStickyColumns:0,rightStickyColumns:0,bodyStyle:{},messages:{noData:t.$t("table.no_data"),noDataAfterFiltering:t.$t("table.no_data_in_filter")}},a=this.columns.map(function(t){return Object.assign({filter:!1,sort:!1},t)});a.push({field:"action",classes:"text-right"});var n=this;return{openModal:!1,rows:[],conf:Object.assign(e,t.config),cols:a,headl:t.headline,actns:t.actions,users:[{name:"Christian Hansen",mail:"ch@motionbank.org",confirmed:!0},{name:"Marlon Brando",mail:"info@motionbank.org",confirmed:!0},{name:"Johnny Cash",mail:"jc@motionbank.org",confirmed:!1},{name:"Donald Duck",mail:"dd@motionbank.org",confirmed:!0}],schemaMail:{fields:{title:{fullWidth:!0,type:"text",label:"Enter mail address",errorLabel:"errors.field_required",validators:{required:c["required"]}}},submit:{handler:function(){return n.payload.author=n.$store.state.auth.payload.userId,n.$route.params.id||(n.payload.type=[l["a"].MAP_TYPE_TIMELINE]),Promise.resolve().then(function(){return n.payload.uuid?n.$store.dispatch("maps/patch",[n.payload.uuid,n.payload]):n.$store.dispatch("maps/create",n.payload)}).then(function(){n.redirectTo&&n.$router.push(n.redirectTo)})}}}}},methods:{onRowClick:function(t){this.$emit("row-click",t)},action:function(t,e,a){var n=this;switch(t){case"edit":if("grid"===a)return n.$router.push({name:"mosys.grids.user"});if("timeline"===a)return n.$router.push({name:"piecemaker.groups.user"})}},updateEntries:function(){var t=this;this.entries instanceof Promise?this.entries.then(function(e){t.rows=e}):t.rows=this.entries},formatDateTime:function(t){return o["DateTime"].fromISO(t).toLocaleString(o["DateTime"].DATETIME_SHORT_WITH_SECONDS)}},mounted:function(){this.updateEntries()},watch:{entries:function(){this.updateEntries()}}},d=u,m=(a("K8cw"),a("KHd+")),p=Object(m["a"])(d,n,r,!1,null,null,null);e["a"]=p.exports},K8cw:function(t,e,a){"use strict";var n=a("d0Uv"),r=a.n(n);r.a},RJD0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card-full",[a("q-btn",{attrs:{slot:"backButton",icon:"keyboard_backspace",round:"",small:""},on:{click:function(e){t.$router.push("/mosys/grids")}},slot:"backButton"}),a("span",{attrs:{slot:"form-logo"},slot:"form-logo"}),a("span",{attrs:{slot:"form-title"},slot:"form-title"},[t._v(t._s(t.$t("routes.mosys.grids.edit.title")))]),a("edit-grid")],1)},r=[],s=a("huk2"),i=a("qUq4"),o={components:{EditGrid:i["a"],CardFull:s["a"]}},l=o,c=a("KHd+"),u=Object(c["a"])(l,n,r,!1,null,null,null);e["default"]=u.exports},Tjd0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.username))])},r=[],s=(a("f3/d"),a("ls82"),a("yXPU")),i=a.n(s),o={props:["uuid"],asyncComputed:{username:function(){var t=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.uuid){t.next=2;break}return t.abrupt("return","---");case 2:return t.next=4,this.$store.dispatch("users/get",this.uuid);case 4:return e=t.sent,t.abrupt("return",e.name);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},l=o,c=a("KHd+"),u=Object(c["a"])(l,n,r,!1,null,null,null);e["a"]=u.exports},d0Uv:function(t,e,a){},qUq4:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"padding-1em"},[t.payload?a("tags",{attrs:{targetUuid:t.payload.uuid,fullWidth:""}}):t._e()],1),a("div",{staticClass:"padding-1em full-width"},[a("form-main",{attrs:{schema:t.schema},model:{value:t.payload,callback:function(e){t.payload=e},expression:"payload"}})],1),a("div",{staticClass:"full-width q-mt-lg",staticStyle:{border:"1px solid #333"}},[a("users-table",{attrs:{headline:t.$t("routes.mosys.grids.users.title"),entries:t.users,columns:t.columns,actions:t.actions},on:{action:t.onAction}})],1)])},r=[],s=(a("VRzm"),a("Y9fb")),i=a("ta7f"),o=a("wbdi"),l=a("Qqu8"),c=a("huk2"),u=a("BXYN"),d={components:{FormMain:s["a"],Tags:l["a"],CardFull:c["a"],UsersTable:u["a"]},props:["redirectTo"],data:function(){var t=this;return{columns:[{label:"Name",field:"name",type:"string",sort:!0}],actions:[{type:"edit",title:"Settings",scope:"grid"},{type:"delete",title:"Remove"}],payload:this.$route.params.id?t.$store.dispatch("maps/get",t.$route.params.id):void 0,schema:{fields:{title:{fullWidth:!0,type:"text",label:"routes.mosys.grids.edit.title",errorLabel:"errors.field_required",validators:{required:i["required"]}}},submit:{handler:function(){return t.payload.owner=t.$store.state.auth.payload.userId,t.$route.params.id||(t.payload.type=[o["a"].MAP_TYPE_2D_GRID]),Promise.resolve().then(function(){return t.payload.uuid?t.$store.dispatch("maps/patch",[t.payload.uuid,t.payload]):t.$store.dispatch("maps/create",t.payload)}).then(function(){t.redirectTo&&t.$router.push(t.redirectTo)})}}}}}},m=d,p=a("KHd+"),f=Object(p["a"])(m,n,r,!1,null,null,null);e["a"]=f.exports}}]);