(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{"0A2q":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"padding-1em"},[t.payload?a("tags",{attrs:{targetUuid:t.payload.uuid,fullWidth:""}}):t._e()],1),a("div",{staticClass:"padding-1em full-width"},[a("form-main",{attrs:{schema:t.schema},model:{value:t.payload,callback:function(e){t.payload=e},expression:"payload"}})],1),a("div",{staticClass:"full-width q-mt-lg",staticStyle:{border:"1px solid #333"}},[a("users-table",{attrs:{columns:t.columns,actions:t.actions,headline:t.$t("routes.piecemaker.groups.users.title")},on:{action:t.onAction}})],1)])},r=[],s=(a("VRzm"),a("Y9fb")),i=a("ta7f"),o=a("wbdi"),c=a("Qqu8"),l=a("BXYN"),u={components:{FormMain:s["a"],Tags:c["a"],UsersTable:l["a"]},props:["redirectTo"],data:function(){var t=this;return{columns:[{label:"Name",field:"name",type:"string",sort:!0}],actions:[{type:"edit",title:"Settings",scope:"timeline"},{type:"delete",title:"Remove"}],type:o["a"].MAP_TYPE_TIMELINE,payload:this.$route.params.id?t.$store.dispatch("maps/get",t.$route.params.id):void 0,schema:{fields:{title:{fullWidth:!0,type:"text",label:"labels.group_title",errorLabel:"errors.field_required",validators:{required:i["required"]}}},submit:{handler:function(){return t.payload.author=t.$store.state.auth.payload.userId,t.$route.params.id||(t.payload.type=[o["a"].MAP_TYPE_TIMELINE]),Promise.resolve().then(function(){return t.payload.uuid?t.$store.dispatch("maps/patch",[t.payload.uuid,t.payload]):t.$store.dispatch("maps/create",t.payload)}).then(function(){t.redirectTo&&t.$router.push(t.redirectTo)})}}}}}},d=u,p=(a("M2/J"),a("KHd+")),m=Object(p["a"])(d,n,r,!1,null,null,null);e["a"]=m.exports},BXYN:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shadow-3",staticStyle:{padding:"1rem"}},[a("q-modal",{model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[a("div",{staticClass:"bg-black q-pa-lg row"},[a("h5",{staticClass:"no-margin no-padding col-12"},[t._v("Send an invitation")]),a("form-main",{staticClass:"col-12",attrs:{schema:t.schemaMail}})],1)]),a("div",{staticClass:"q-px-md"},[a("h5",{staticClass:"light-paragraph"},[t._v(t._s(t.headl)),a("span",{staticClass:"float-right"},[a("q-btn",{on:{click:function(e){t.openModal=!0}}},[t._v("Add user")])],1)]),a("q-data-table",{attrs:{dark:!0,data:t.users,config:t.conf,columns:t.cols,actions:t.actns},on:{rowclick:function(e){t.onRowClick(e)}},scopedSlots:t._u([{key:"col-name",fn:function(e){return[t._l(e,function(e){return[t._v(t._s(e.name))]})]}},{key:"col-confirmed",fn:function(e){return[e.data?a("div",{staticClass:"text-center"},[a("q-icon",{attrs:{name:"done"}})],1):t._e()]}},{key:"col-action",fn:function(e){return t._l(t.actions,function(n){return a("q-btn",{key:n.type,attrs:{flat:"",small:"",color:n.color||"neutral"},on:{click:function(a){t.action(n.type,e,n.scope)}}},[t._v(t._s(t.$t(n.title)))])})}}])})],1)],1)},r=[],s=(a("VRzm"),a("91GP"),a("Y9fb")),i=a("Tjd0"),o=a("ExVU"),c=a("wbdi"),l=a("ta7f"),u={components:{Username:i["a"],FormMain:s["a"]},props:["columns","actions","headline"],data:function(){var t=this,e={rowHeight:"50px",noHeader:!1,leftStickyColumns:0,rightStickyColumns:0,bodyStyle:{},messages:{noData:t.$t("table.no_data"),noDataAfterFiltering:t.$t("table.no_data_in_filter")}},a=this.columns.map(function(t){return Object.assign({filter:!1,sort:!1},t)});a.push({field:"action",classes:"text-right"});var n=this;return{openModal:!1,rows:[],conf:Object.assign(e,t.config),cols:a,headl:t.headline,actns:t.actions,users:[{name:"Christian Hansen",mail:"ch@motionbank.org",confirmed:!0},{name:"Marlon Brando",mail:"info@motionbank.org",confirmed:!0},{name:"Johnny Cash",mail:"jc@motionbank.org",confirmed:!1},{name:"Donald Duck",mail:"dd@motionbank.org",confirmed:!0}],schemaMail:{fields:{title:{fullWidth:!0,type:"text",label:"Enter mail address",errorLabel:"errors.field_required",validators:{required:l["required"]}}},submit:{handler:function(){return n.payload.author=n.$store.state.auth.payload.userId,n.$route.params.id||(n.payload.type=[c["a"].MAP_TYPE_TIMELINE]),Promise.resolve().then(function(){return n.payload.uuid?n.$store.dispatch("maps/patch",[n.payload.uuid,n.payload]):n.$store.dispatch("maps/create",n.payload)}).then(function(){n.redirectTo&&n.$router.push(n.redirectTo)})}}}}},methods:{onRowClick:function(t){this.$emit("row-click",t)},action:function(t,e,a){var n=this;switch(t){case"edit":if("grid"===a)return n.$router.push({name:"mosys.grids.user"});if("timeline"===a)return n.$router.push({name:"piecemaker.groups.user"})}},updateEntries:function(){var t=this;this.entries instanceof Promise?this.entries.then(function(e){t.rows=e}):t.rows=this.entries},formatDateTime:function(t){return o["DateTime"].fromISO(t).toLocaleString(o["DateTime"].DATETIME_SHORT_WITH_SECONDS)}},mounted:function(){this.updateEntries()},watch:{entries:function(){this.updateEntries()}}},d=u,p=(a("K8cw"),a("KHd+")),m=Object(p["a"])(d,n,r,!1,null,null,null);e["a"]=m.exports},"H+Ku":function(t,e,a){},K8cw:function(t,e,a){"use strict";var n=a("d0Uv"),r=a.n(n);r.a},"M2/J":function(t,e,a){"use strict";var n=a("mKd5"),r=a.n(n);r.a},Tjd0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.username))])},r=[],s=(a("f3/d"),a("ls82"),a("yXPU")),i=a.n(s),o={props:["uuid"],asyncComputed:{username:function(){var t=i()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.uuid){t.next=2;break}return t.abrupt("return","---");case 2:return t.next=4,this.$store.dispatch("users/get",this.uuid);case 4:return e=t.sent,t.abrupt("return",e.name);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},c=o,l=a("KHd+"),u=Object(l["a"])(c,n,r,!1,null,null,null);e["a"]=u.exports},UDcR:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card-full",[a("q-btn",{staticStyle:{position:"absolute",top:"calc(50px + 2rem)",left:"2rem"},attrs:{slot:"backButton",icon:"keyboard_backspace",round:"",small:""},on:{click:function(e){t.$router.push("/piecemaker/groups/")}},slot:"backButton"}),a("span",{attrs:{slot:"form-logo"},slot:"form-logo"}),a("span",{attrs:{slot:"form-title"},slot:"form-title"},[t._v(t._s(t.$t("routes.piecemaker.groups.create.title")))]),a("edit-group",{staticClass:"width-100",attrs:{"redirect-to":"/piecemaker/groups"}})],1)},r=[],s=a("0A2q"),i=a("YIeI"),o=a("huk2"),c={components:{CardFull:o["a"],CenterCardThreeQuarter:i["a"],EditGroup:s["a"]}},l=c,u=(a("s+iC"),a("KHd+")),d=Object(u["a"])(l,n,r,!1,null,null,null);e["default"]=d.exports},UrZy:function(t,e,a){"use strict";var n=a("oncl"),r=a.n(n);r.a},YIeI:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row fullscreen vertical-middle justify-center items-center"},[n("div",{staticClass:"abc",attrs:{id:"back-button"}},[t._t("backButton")],2),n("div",{staticClass:"column col-9 sm-gutter"},[n("q-card",{staticClass:"full-width",attrs:{color:"dark"}},[n("div",{staticClass:"layout-padding"},[n("q-card-main",{staticClass:"no-margin",attrs:{color:"dark"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"column width-3of4"},[n("h4",{staticClass:"caption"},[t._t("form-title")],2),t._t("form-caption")],2),t._t("form-logo",[n("a",{staticClass:"gt-md logo",on:{click:function(e){t.openURL("http://www.motionbank.org")}}},[n("img",{staticClass:"responsive",attrs:{src:a("b2zc")}})])])],2)]),n("q-card-main",{staticClass:"no-margin"},[t._t("default")],2)],1)]),n("site-footer")],1)])},r=[],s=a("4IOb"),i=a("vpOM"),o={components:{SiteFooter:i["a"]},data:function(){return{openURL:s["Ca"]}}},c=o,l=(a("UrZy"),a("KHd+")),u=Object(l["a"])(c,n,r,!1,null,null,null);e["a"]=u.exports},d0Uv:function(t,e,a){},mKd5:function(t,e,a){},oncl:function(t,e,a){},"s+iC":function(t,e,a){"use strict";var n=a("H+Ku"),r=a.n(n);r.a}}]);